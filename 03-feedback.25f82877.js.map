{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,aCCaC,EAAO,CAChBC,KAAMC,SAASC,cAAc,mBDCjCC,QAAQC,IAAIL,EAAKC,MAEjB,IAAIK,EAAO,GACLC,EAAW,sBAEjBP,EAAKC,KAAKO,iBAAiB,QAASC,EAAAX,EAAA,EAGpC,SAAoBY,G,IAAAC,EAAAD,EAACC,OACTC,EAAgBD,EAAhBC,KAAMC,EAAUF,EAAVE,MACdP,EAAKM,GAAQC,EACbC,EAAAC,QAAQC,KAAKT,EAAUD,E,GAN8B,MACzDN,EAAKC,KAAKO,iBAAiB,UAoB3B,SAAoBS,GAEhB,GADAA,EAAEC,kBACGZ,EAAKa,QAAUb,EAAKc,QAErB,YADAC,MAAM,mCAIVrB,EAAKC,KAAKqB,QACVlB,QAAQC,IAAIC,GACZA,EAAO,GACPQ,EAAAC,QAAQQ,OAAOhB,E,IAtBnB,WACI,IAAMiB,EAAYV,EAAAC,QAAQU,KAAKlB,GAC/B,GAAIiB,EACA,IAAK,IAAIE,KAAMF,EACXxB,EAAKC,KAAKyB,GAAIb,MAAQW,EAAUE,GAChCpB,EAAKoB,GAAMF,EAAUE,E,CAIjCC,E","sources":["src/js/03-feedback.js","src/js/refs.js"],"sourcesContent":["import throttle from 'lodash.throttle';\nimport storage from './storage';\nimport { refs } from './refs';\nconsole.log(refs.form);\n\nlet data = {};\nconst LOCALKEY = 'feedback-form-state'; \n\nrefs.form.addEventListener('input', throttle(onSaveData, 500));\nrefs.form.addEventListener('submit', onSendData);\n\nfunction onSaveData({target}) {\n    const { name, value } = target;\n    data[name] = value;\n    storage.save(LOCALKEY, data);\n}\n\nfunction onLoadData() {\n    const savedData = storage.load(LOCALKEY);\n    if (savedData) {\n        for (let el in savedData) {\n            refs.form[el].value = savedData[el];\n            data[el] = savedData[el];\n        }\n    }\n}\nonLoadData();\n// fill all \n\nfunction onSendData(e) {\n    e.preventDefault();\n    if (!data.email || !data.message) {\n        alert(\"Заповніть усі поля, будь ласка!\");\n        return;\n    }\n\n    refs.form.reset();\n    console.log(data);\n    data = {};\n    storage.remove(LOCALKEY);\n}\n","\nexport const refs = {\n    form: document.querySelector('.feedback-form'),\n}"],"names":["$dCfNN","parcelRequire","$37e33676934ad046$export$21666b427502ea6d","form","document","querySelector","console","log","$b00c40859be242c5$var$data","$b00c40859be242c5$var$LOCALKEY","addEventListener","$parcel$interopDefault","param","target","name","value","$jzQFI","default","save","e","preventDefault","email","message","alert","reset","remove","savedData","load","el","$b00c40859be242c5$var$onLoadData"],"version":3,"file":"03-feedback.25f82877.js.map"}