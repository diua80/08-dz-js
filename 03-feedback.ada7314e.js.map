{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,aCCO,MAAMC,EAAO,CAChBC,KAAMC,SAASC,cAAc,mBDCjCC,QAAQC,IAAIL,EAAKC,MAEjB,IAAIK,EAAO,GAGXN,EAAKC,KAAKM,iBAAiB,QAASC,EAAAV,EAAA,EAGpC,UAAoBW,OAACA,IACjB,MAAMC,KAAEA,EAAIC,MAAEA,GAAUF,EACxBH,EAAKI,GAAQC,EACbC,EAAAC,QAAQC,KARK,sBAQUR,E,GAN8B,MACzDN,EAAKC,KAAKM,iBAAiB,UAmB3B,SAAoBQ,GAEhB,GADAA,EAAEC,kBACGV,EAAKW,QAAUX,EAAKY,QAErB,YADAC,MAAM,mCAIVnB,EAAKC,KAAKmB,QACVhB,QAAQC,IAAIC,GACZA,EAAO,GACPM,EAAAC,QAAQQ,OAhCK,sB,IAWjB,WACI,MAAMC,EAAYV,EAAAC,QAAQU,KAZb,uBAab,GAAID,EACA,IAAK,IAAIE,KAAMF,EACXtB,EAAKC,KAAKuB,GAAIb,MAAQW,EAAUE,GAChClB,EAAKkB,GAAMF,EAAUE,E,CAIjCC","sources":["src/js/03-feedback.js","src/js/refs.js"],"sourcesContent":["import throttle from 'lodash.throttle';\nimport storage from './storage';\nimport { refs } from './refs';\nconsole.log(refs.form);\n\nlet data = {};\nconst LOCALKEY = 'feedback-form-state'; \n\nrefs.form.addEventListener('input', throttle(onSaveData, 500));\nrefs.form.addEventListener('submit', onSendData);\n\nfunction onSaveData({target}) {\n    const { name, value } = target;\n    data[name] = value;\n    storage.save(LOCALKEY, data);\n}\n\nfunction onLoadData() {\n    const savedData = storage.load(LOCALKEY);\n    if (savedData) {\n        for (let el in savedData) {\n            refs.form[el].value = savedData[el];\n            data[el] = savedData[el];\n        }\n    }\n}\nonLoadData();\n\nfunction onSendData(e) {\n    e.preventDefault();\n    if (!data.email || !data.message) {\n        alert(\"Заповніть усі поля, будь ласка!\");\n        return;\n    }\n\n    refs.form.reset();\n    console.log(data);\n    data = {};\n    storage.remove(LOCALKEY);\n}\n","\nexport const refs = {\n    form: document.querySelector('.feedback-form'),\n}"],"names":["$9OeKo","parcelRequire","$ee27a4d7c64fc8c4$export$21666b427502ea6d","form","document","querySelector","console","log","$945622fd0f572e60$var$data","addEventListener","$parcel$interopDefault","target","name","value","$5uEKZ","default","save","e","preventDefault","email","message","alert","reset","remove","savedData","load","el","$945622fd0f572e60$var$onLoadData"],"version":3,"file":"03-feedback.ada7314e.js.map"}